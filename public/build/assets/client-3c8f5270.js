import{m as n,a as i}from"./module.esm-665164d8.js";class o{start(){document.addEventListener("alpine:init",this._startComponent)}_startComponent(){n.data("client",e=>({onlineCount:0,showCmsFrame:!1,onlineCountButtonDelay:!1,isDisconnected:!1,endpoints:{onlineCount:e},init(){document.addEventListener("nitro:disconnect",()=>this.isDisconnected=!0),this.$nextTick(()=>{this.endpoints.onlineCount&&(this.reloadOnlineCount(),setInterval(()=>this.reloadOnlineCount(),this.getTime(30)))})},toggleCms(){this.showCmsFrame=!this.showCmsFrame},async reloadOnlineCount(){this.onlineCountButtonDelay||!this.endpoints.onlineCount||(this.onlineCountButtonDelay=!0,this.onlineCount="...",await i.get(this.endpoints.onlineCount).then(t=>{if(!t.data){this.onlineCount="N/A";return}this.onlineCount=t.data.onlineCount}).catch(t=>console.error("[OnlineCount] - ",t)),setTimeout(()=>this.onlineCountButtonDelay=!1,this.getTime(5)))},getTime(t){return t*1e3}}))}}const s=new o;s.start();window.Alpine=n;n.start();
